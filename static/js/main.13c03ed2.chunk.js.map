{"version":3,"sources":["accurate_interval.js","App.js","index.js"],"names":["accurateInterval","fn","time","cancel","nextAt","timeout","wrapper","Date","getTime","setTimeout","clearTimeout","App","props","stateCheck","state","timer","current","breakTime","sessionTime","setState","prevState","stateSwtich","resetTimer","startTimer","stopTimer","document","getElementById","play","updateTime","change","toUpdate","incTime","period","Math","min","decTime","max","hardReset","playing","beep","pause","currentTime","startStop","this","minutes","floor","toLocaleString","undefined","minimumIntegerDigits","seconds","breakMinutes","sessionMinutes","className","id","onClick","toUpperCase","Component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.13c03ed2.chunk.js","sourcesContent":["const accurateInterval = function (fn, time) {\n  var cancel, nextAt, timeout, wrapper;\n  nextAt = new Date().getTime() + time;\n  timeout = null;\n  wrapper = function () {\n    nextAt += time;\n    timeout = setTimeout(wrapper, nextAt - new Date().getTime());\n    return fn();\n  };\n  cancel = function () {\n    return clearTimeout(timeout);\n  };\n  timeout = setTimeout(wrapper, nextAt - new Date().getTime());\n  return {\n    cancel: cancel\n  };\n};\n\nexport default accurateInterval;","import { Component } from 'react';\nimport accurateInterval from './accurate_interval';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.breakTime = 60*5;\n    this.sessionTime = 60*25;\n    this.stateSwtich = {'session': 'break', 'break': 'session'};\n    this.state = {\n      timer: this.sessionTime,\n      time: this.sessionTime,\n      breakTime: this.breakTime,\n      sessionTime: this.sessionTime,\n      current: 'session',\n      playing: false\n    };\n  }\n  stateCheck = () => {\n    if (this.state.timer === -1) {\n      const time = this.state.current === 'session' \n      ? this.state.breakTime \n      : this.state.sessionTime;\n      this.setState(prevState => ({\n        ...prevState,\n        time,\n        current: this.stateSwtich[prevState.current]\n      })\n      , () => {this.resetTimer(); this.startTimer();})\n    }\n  }\n  startTimer = () => {\n    this.timer = accurateInterval(() => \n    this.setState(prevState => \n      ({...prevState, timer: prevState.timer < 0? -1 : prevState.timer - 1})\n      , this.stateCheck)\n    , 1000);\n  }\n  stopTimer = () => {\n    this.timer && this.timer.cancel();\n  }\n  resetTimer = () => {\n    this.timer && this.stopTimer();\n    this.setState(prevState => ({...prevState, timer: prevState.time}));\n    document.getElementById(\"beep\").play();\n  }\n  updateTime = (change) => {\n    const toUpdate = this.state.current + \"Time\";\n    this.setState(prevState => ({\n      ...prevState, \n      time: prevState[toUpdate], \n      timer: prevState[toUpdate]}));\n  }\n  incTime = (period) => {\n    const toUpdate = period + \"Time\";\n    this.setState(prevState => ({...prevState, [toUpdate]: Math.min(prevState[toUpdate] + 60, 60*60)})\n    , () => {if(period === this.state.current) this.updateTime()});\n  }\n  decTime = (period) => {\n    const toUpdate = period + \"Time\";\n    this.setState(prevState => ({...prevState, \n      [toUpdate]: Math.max(prevState[toUpdate] - 60, 60)})\n    , () => {if(period === this.state.current) this.updateTime()});\n  }\n  componentWillUnmount() {\n    this.stopTimer();\n  }\n  hardReset = () => {\n    this.stopTimer();\n    this.setState({\n      timer: this.sessionTime,\n      time: this.sessionTime,\n      breakTime: this.breakTime,\n      sessionTime: this.sessionTime,\n      current: 'session',\n      playing: false\n    });\n    const beep = document.getElementById('beep');\n    beep.pause();\n    beep.currentTime = 0;\n  }\n  startStop = () => {\n    if (this.state.playing) {\n      this.stopTimer();\n      this.setState(prevState => ({...prevState, playing: false}));\n    }\n    else {\n      this.startTimer();\n      this.setState(prevState => ({...prevState, playing: true}));\n    }\n  }\n  render() {\n    const minutes = Math.floor(this.state.timer/60)\n    .toLocaleString(undefined, {minimumIntegerDigits: 2});\n    const seconds = (this.state.timer%60)\n    .toLocaleString(undefined, {minimumIntegerDigits: 2});\n    const breakMinutes = Math.floor(this.state.breakTime/60)\n    // .toLocaleString(undefined, {minimumIntegerDigits: 2});\n    const sessionMinutes = Math.floor(this.state.sessionTime/60)\n    // .toLocaleString(undefined, {minimumIntegerDigits: 2});\n    return (\n      <div className=\"App\">\n      <h4 id=\"break-label\">Break:</h4> <p id=\"break-length\"> {breakMinutes} </p>\n      <h4 id=\"session-label\">Session:</h4> <p id=\"session-length\"> {sessionMinutes} </p>\n      <button id=\"break-increment\" onClick={() => this.incTime('break')}>break UP</button>\n      <button id=\"break-decrement\" onClick={() => this.decTime('break')}>break DOWN</button>\n      <button id=\"session-increment\" onClick={() => this.incTime('session')}>session UP</button>\n      <button id=\"session-decrement\" onClick={() => this.decTime('session')}>session DOWN</button>\n      <h1 id=\"timer-label\">{this.state.current.toUpperCase()}</h1>\n      <h1 id=\"time-left\">{minutes}:{seconds}</h1>\n      <button id=\"start_stop\" onClick={this.startStop}>Start/Stop</button>\n      <button id=\"reset\" onClick={this.hardReset}>Reset</button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}